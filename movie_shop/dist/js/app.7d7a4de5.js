(function(t){function e(e){for(var i,o,r=e[0],c=e[1],l=e[2],f=0,d=[];f<r.length;f++)o=r[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},a={app:0},s=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0184":function(t,e,n){"use strict";var i=n("25c0"),a=n.n(i);a.a},"070a":function(t,e,n){"use strict";var i=n("e2f0"),a=n.n(i);a.a},"25c0":function(t,e,n){},"2a8c":function(t,e,n){},"2e9d":function(t,e,n){t.exports=n.p+"img/timg3.ba6275ec.jpg"},"364b":function(t,e,n){"use strict";var i=n("f614"),a=n.n(i);a.a},"3d7a":function(t,e,n){"use strict";var i=n("f201"),a=n.n(i);a.a},"4ce9":function(t,e,n){t.exports=n.p+"img/timg4.e5a687c4.jpg"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-view"),n("tabbar",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}]})],1)},s=[],o=n("5530"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",[n("router-link",{attrs:{to:"/film",tag:"li",activeClass:"myactive"}},[n("i",{staticClass:"iconfont icon-dianying"}),t._v("电影")]),n("router-link",{attrs:{to:"/city",tag:"li",activeClass:"myactive"}},[n("i",{staticClass:"iconfont icon-dianying1"}),t._v("电影院")]),n("router-link",{attrs:{to:"/center",tag:"li",activeClass:"myactive"}},[n("i",{staticClass:"iconfont icon-wode"}),t._v("我的")])],1)])},c=[],l=(n("0184"),n("2877")),u={},f=Object(l["a"])(u,r,c,!1,null,"22af8fee",null),d=f.exports,m=n("2f62"),p={data:function(){return{datalist:[]}},beforeMount:function(){console.log("订阅消息")},components:{tabbar:d},computed:Object(o["a"])({},Object(m["b"])(["isshow"]))},h=p,v=(n("5c0b"),Object(l["a"])(h,a,s,!1,null,null,null)),g=v.exports,b=n("8c4f"),w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("swiper",{ref:"myfilmheader"},[i("li",{staticClass:"swiper-slide"},[i("img",{attrs:{src:n("bab6"),alt:""}})]),i("li",{staticClass:"swiper-slide"},[i("img",{attrs:{src:n("a1d4"),alt:""}})]),i("li",{staticClass:"swiper-slide"},[i("img",{attrs:{src:n("2e9d"),alt:""}})]),i("li",{staticClass:"swiper-slide"},[i("img",{attrs:{src:n("4ce9"),alt:""}})])]),i("filmheader",{class:t.isfixed?"fixed":""}),i("router-view")],1)},_=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-container"},[n("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),n("div",{staticClass:"swiper-pagination film-swiper-pagination"})])},x=[],C=n("d090"),k=n.n(C),j=(n("dfa4"),{mounted:function(){new k.a(".swiper-container",{loop:!0,autoplay:2e3,pagination:".swiper-pagination"})}}),$=j,O=(n("070a"),Object(l["a"])($,y,x,!1,null,"2c202f48",null)),E=O.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("router-link",{attrs:{to:"/film/nowplaying",tag:"li",activeClass:"active"}},[t._v("正在热映")]),n("router-link",{attrs:{to:"/film/comingsoon",tag:"li",activeClass:"active"}},[t._v("即将上演")])],1)},S=[],H={data:function(){return{ab:"1"}}},P=H,L=(n("b4c4"),Object(l["a"])(P,I,S,!1,null,"5ab8acd2",null)),M=L.exports,X={mounted:function(){console.log(M.data()),window.onscroll=this.handlescroll},data:function(){return{isfixed:!1}},methods:{handlescroll:function(){document.documentElement.scrollTop>=this.$refs.myfilmheader.$el.offsetHeight?this.isfixed=!0:this.isfixed=!1}},components:{swiper:E,filmheader:M},beforedestory:function(){window.onscroll=null}},z=X,T=Object(l["a"])(z,w,_,!1,null,null,null),N=T.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cinema",style:t.mystyle},[n("ul",t._l(t.datalist,(function(e){return n("li",{key:e.name},[t._v(t._s(e.name))])})),0)])},A=[],B=n("bc3a"),J=n.n(B),D=n("1fba"),F={data:function(){return{datalist:[],mystyle:{height:"0px"}}},mounted:function(){var t=this;this.mystyle.height=document.documentElement.clientHeight-60+"px";var e=localStorage.getItem("name");J()({url:"https://m.maizuo.com/gateway?cityId=".concat(e,"&ticketFlag=1&k=91262041"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092","bc":"310100"}',"X-Host":" mall.film-ticket.cinema.list"}}).then((function(e){t.datalist=e.data.data.cinemas,console.log(e.data.data.cinemas),t.$nextTick((function(){new D["a"](".cinema",{scrollbar:{fade:!0,interactive:!1}})}))}))}},q=F,G=(n("98fe"),Object(l["a"])(q,V,A,!1,null,"5ced031b",null)),K=G.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("Header",{attrs:{title:"我的喵喵"}}),n("Login")],1)},R=[],U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{attrs:{id:"header"}},[t._t("default"),n("h1",[t._v(t._s(t.title))])],2)},W=[],Y={name:"Header",props:{title:{type:String,default:"喵喵电影"}}},Z=Y,tt=(n("ff61"),Object(l["a"])(Z,U,W,!1,null,"9af7d5e0",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},it=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login_body"},[n("div",[n("input",{staticClass:"login_text",attrs:{type:"text",placeholder:"账户名/手机号/Email"}})]),n("div",[n("input",{staticClass:"login_text",attrs:{type:"password",placeholder:"请输入您的密码"}})]),n("div",{staticClass:"login_btn"},[n("input",{attrs:{type:"submit",value:"登录"}})])])}],at={name:"Login"},st=at,ot=(n("cb44"),Object(l["a"])(st,nt,it,!1,null,"497c603a",null)),rt=ot.exports,ct={components:{Header:et,Login:rt},props:{title:{type:String,default:"喵喵电影"}}},lt=ct,ut=(n("f7cb"),Object(l["a"])(lt,Q,R,!1,null,"33fc603f",null)),ft=ut.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-distance":"5"}},[t._l(t.datalist,(function(e){return n("li",{key:e.filmId,on:{click:function(n){return t.handleChangepage(e.filmId)}}},[n("img",{attrs:{src:e.poster}}),n("h3",[t._v(t._s(e.name))]),n("p",[t._v("观众评分"+t._s(e.grade))]),n("p",[t._v("主演:"+t._s(t._f("actorfilter")(e.actors)))])])})),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isshow,expression:"isshow"}]},[t._v("加载中...")])],2)])},mt=[],pt=(n("4de4"),n("a15b"),n("d81d"),n("b0c0"),n("2909"));i["a"].filter("actorfilter",(function(t){var e=t.map((function(t){return t.name}));return e.join(" ")}));var ht={data:function(){return{datalist:[],loading:!1,current:1,total:0,isshow:!0}},mounted:function(){var t=this;J()({url:"https://m.maizuo.com/gateway?cityId=422800&pageNum=1&pageSize=10&type=1&k=4381095",headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092"}',"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=e.data.data.films}))},methods:{handleChangepage:function(t){this.$router.push("/detail/".concat(t)),console.log(t)},loadMore:function(){var t=this;console.log("到底了"),this.loading=!0,this.current++,this.datalist.length!==this.total?J()({url:"https://m.maizuo.com/gateway?cityId=422800&pageNum=".concat(this.current,"&pageSize=10&type=1&k=4381095"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092"}',"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=Object(pt["a"])(t.datalist),console.log(t.current),t.loading=!1,t.total=t.datalist.length})):this.isshow=!1}}},vt=ht,gt=(n("84a2"),Object(l["a"])(vt,dt,mt,!1,null,"c313b658",null)),bt=gt.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",t._l(t.$store.state.comingList,(function(e){return n("li",{key:e.filmId,on:{click:function(n){return t.handleClick(e.isPresale,e.filmId)}}},[n("img",{attrs:{src:e.poster}}),n("h3",[t._v(t._s(e.name))]),n("p",[t._v("观众评分"+t._s(e.grade))]),n("p",[t._v("主演:"+t._s(t._f("actorfilter")(e.actors)))])])})),0)])},_t=[],yt=n("660a"),xt=n.n(yt),Ct={mounted:function(){0===this.$store.state.comingList.length?this.$store.dispatch("getComingListAction"):console.log("使用缓存数据")},methods:{handleClick:function(t,e){var n=this;t||(console.log(1),Object(yt["MessageBox"])({title:"提示",message:"没有排期，看看其他电影吧",showCancelButton:!0}).then((function(t){"confirm"===t&&(console.log("回到首页"),n.$router.push("/film/nowplaying"))}))),this.$router.push("/detail/".concat(e)),console.log(2)}}},kt=Ct,jt=(n("bd62"),Object(l["a"])(kt,wt,_t,!1,null,"422c8968",null)),$t=jt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.datalist?n("div",[n("img",{staticClass:"poster",attrs:{src:t.datalist.poster}}),n("h2",[t._v(t._s(t.datalist.name))]),n("h3",[t._v("演职人员")]),n("swiper",{staticClass:"actorsclass",attrs:{PerView:"4",myclass:"actorsclass"}},t._l(t.datalist.actors,(function(e){return n("div",{key:e.name,staticClass:"swiper-slide"},[n("img",{attrs:{src:e.avatarAddress}}),n("p",[t._v(t._s(e.name))])])})),0),n("h3",[t._v("剧照")]),n("swiper",{staticClass:"photosclass",attrs:{PerView:"3",myclass:"photosclass"}},t._l(t.datalist.photos,(function(t){return n("div",{key:t,staticClass:"swiper-slide"},[n("img",{attrs:{src:t}})])})),0)],1):t._e()},Et=[],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-container"},[n("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),n("div",{staticClass:"swiper-pagination film-swiper-pagination"})])},St=[],Ht={props:["PerView","myclass"],mounted:function(){console.log(this.myclass),new k.a(".".concat(this.myclass),{slidesPerView:this.PerView,spaceBetween:30,freeMode:!0})}},Pt=Ht,Lt=(n("364b"),Object(l["a"])(Pt,It,St,!1,null,"24fbc045",null)),Mt=Lt.exports,Xt={components:{swiper:Mt},props:["$route.params.myid"],data:function(){return{datalist:null}},created:function(){console.log("tabber隐藏"),this.$store.commit("HideTabber",!1)},mounted:function(){var t=this;console.log("要获取信息",this.$route.params.myid),J()({url:"https://m.maizuo.com/gateway?filmId=".concat(this.$route.params.myid,"&k=9153668"),headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092","bc":"422800"}',"X-Host":"mall.film-ticket.film.info"}}).then((function(e){t.datalist=e.data.data.film,console.log(e.data.data.film)}))},beforeDestroy:function(){console.log("tabber显示"),this.$store.commit("ShowTabber",!0)}},zt=Xt,Tt=(n("3d7a"),Object(l["a"])(zt,Ot,Et,!1,null,"f174dbd0",null)),Nt=Tt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mt-index-list",t._l(t.datalist,(function(e){return n("mt-index-section",{key:e.index,attrs:{index:e.index}},t._l(e.list,(function(e){return n("div",{key:e.name,on:{click:function(n){return t.onclick(e.cityId)}}},[n("mt-cell",{attrs:{title:e.name}})],1)})),0)})),1)},At=[],Bt={data:function(){return{datalist:[]}},mounted:function(){var t=this;J()({url:"https://m.maizuo.com/gateway?k=4926834",headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092","bc":"310100"}',"X-Host":"mall.film-ticket.city.list"}}).then((function(e){t.datalist=t.clickHandle(e.data.data.cities),console.log(t.datalist)}))},methods:{clickHandle:function(t){for(var e=[],n=65;n<=90;n++)e.push(String.fromCharCode(n));for(var i=[],a=0;a<e.length;a++){var s=t.filter((function(t){return t.pinyin.substring(0,1)===e[a].toLowerCase()}));s.length>0&&i.push({index:e[a],list:s})}return i},onclick:function(t){console.log(t),localStorage.setItem("name",t),this.$router.push("/cinema")}}},Jt=Bt,Dt=Object(l["a"])(Jt,Vt,At,!1,null,"0a0bd37a",null),Ft=Dt.exports;i["a"].use(b["a"]);var qt=new b["a"]({routes:[{path:"/film",component:N,children:[{path:"nowplaying",component:bt},{path:"comingsoon",component:$t},{path:"",redirect:"/film/nowplaying"}]},{path:"/cinema",component:K},{path:"/center",component:ft},{path:"*",redirect:"/film"},{path:"/detail/:myid",component:Nt},{path:"/city",component:Ft}]}),Gt=qt;i["a"].use(m["a"]);var Kt=new m["a"].Store({state:{isshow:!0,comingList:[]},mutations:{HideTabber:function(t,e){t.isshow=e},ShowTabber:function(t,e){t.isshow=e},comingListMutation:function(t,e){t.comingList=e}},actions:{getComingListAction:function(t){J()({url:"https://m.maizuo.com/gateway?cityId=110100&pageNum=1&pageSize=10&type=2&k=8784793",headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.0.4","e":"1598099661919458008793092","bc":"110100"}',"X-Host":"mall.film-ticket.film.list"}}).then((function(e){console.log(e.data),t.commit("comingListMutation",e.data.data.films)}))}},modules:{}});n("4f89");i["a"].use(xt.a),i["a"].config.productionTip=!1,new i["a"]({router:Gt,store:Kt,render:function(t){return t(g)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("9c0c"),a=n.n(i);a.a},"84a2":function(t,e,n){"use strict";var i=n("2a8c"),a=n.n(i);a.a},"98fe":function(t,e,n){"use strict";var i=n("a2e5"),a=n.n(i);a.a},"9c0c":function(t,e,n){},a1d4:function(t,e,n){t.exports=n.p+"img/timg2.0c986326.jpg"},a2e5:function(t,e,n){},b3bc:function(t,e,n){},b4c4:function(t,e,n){"use strict";var i=n("f1ec"),a=n.n(i);a.a},bab6:function(t,e,n){t.exports=n.p+"img/timg1.f21b19a0.jpg"},bd62:function(t,e,n){"use strict";var i=n("f014"),a=n.n(i);a.a},c163:function(t,e,n){},cb2c:function(t,e,n){},cb44:function(t,e,n){"use strict";var i=n("c163"),a=n.n(i);a.a},e2f0:function(t,e,n){},f014:function(t,e,n){},f1ec:function(t,e,n){},f201:function(t,e,n){},f614:function(t,e,n){},f7cb:function(t,e,n){"use strict";var i=n("cb2c"),a=n.n(i);a.a},ff61:function(t,e,n){"use strict";var i=n("b3bc"),a=n.n(i);a.a}});
//# sourceMappingURL=app.7d7a4de5.js.map